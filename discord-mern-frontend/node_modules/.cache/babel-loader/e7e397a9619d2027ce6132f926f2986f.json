{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anna\\\\Desktop\\\\react\\\\Discord\\\\discord-mern-frontend\\\\src\\\\Sidebar.js\";\nimport React from 'react';\nimport './Sidebar.css';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AddIcon from '@material-ui/icons/Add';\nimport SidebarChannel from './SidebarChannel';\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CallIcon from '@material-ui/icons/Call';\nimport { Avatar } from '@material-ui/core';\nimport MicIcon from '@material-ui/icons/Mic';\nimport HeadsetIcon from '@material-ui/icons/Headset';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from './features/userSlice';\nimport db, { auth } from './firebase';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport axios from './axios';\nimport Pusher from 'pusher-js';\nconst pusher = new Pusher('572e230107d6ea2ff382', {\n  cluster: 'eu'\n});\n\nconst Sidebar = () => {\n  const user = useSelector(selectUser);\n  const [channels, setChannels] = useState([]);\n\n  const getChannels = () => {\n    axios.get('/get/channelList').then(res => {\n      console.log(res.data);\n      setChannels(res.data);\n    });\n  };\n\n  useEffect(() => {\n    getChannels();\n    const channel = pusher.subscribe('channels');\n    channel.bind('newChannel', function (data) {\n      getChannels();\n    });\n  }, []);\n\n  const handleAddChannel = e => {\n    e.preventDefault();\n    const channelName = prompt('Enter a new channel name');\n\n    if (channelName) {\n      axios.post('/new/channel', {\n        channelName: channelName\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"El lobo\"), /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Text Channels\")), /*#__PURE__*/React.createElement(AddIcon, {\n    onClick: handleAddChannel,\n    className: \"sidebar__addChannel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, channels.map(channel => /*#__PURE__*/React.createElement(SidebarChannel, {\n    key: channel.id,\n    id: channel.id,\n    channelName: cjchannel.Name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SignalCellularAltIcon, {\n    className: \"sidebar__voiceIcons\",\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"Voice Connected\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"Stream\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(CallIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: user === null || user === void 0 ? void 0 : user.photo,\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, user === null || user === void 0 ? void 0 : user.displayName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"#\", user === null || user === void 0 ? void 0 : user.uid.substring(0, 5))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(HeadsetIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(SettingsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Sidebar;","map":{"version":3,"sources":["C:/Users/Anna/Desktop/react/Discord/discord-mern-frontend/src/Sidebar.js"],"names":["React","ExpandMoreIcon","AddIcon","SidebarChannel","SignalCellularAltIcon","InfoOutlinedIcon","CallIcon","Avatar","MicIcon","HeadsetIcon","SettingsIcon","useSelector","selectUser","db","auth","useState","useEffect","axios","Pusher","pusher","cluster","Sidebar","user","channels","setChannels","getChannels","get","then","res","console","log","data","channel","subscribe","bind","handleAddChannel","e","preventDefault","channelName","prompt","post","map","id","cjchannel","Name","photo","signOut","displayName","uid","substring"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Sidebar.css'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport AddIcon from '@material-ui/icons/Add'\nimport SidebarChannel from './SidebarChannel'\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\nimport CallIcon from '@material-ui/icons/Call'\nimport { Avatar } from '@material-ui/core'\nimport MicIcon from '@material-ui/icons/Mic'\nimport HeadsetIcon from '@material-ui/icons/Headset'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { useSelector } from 'react-redux'\nimport { selectUser } from './features/userSlice'\nimport db, { auth } from './firebase'\nimport { useState } from 'react'\nimport { useEffect } from 'react'\nimport axios from './axios'\nimport Pusher from 'pusher-js'\n\nconst pusher = new Pusher('572e230107d6ea2ff382', {\n    cluster: 'eu'\n  });\n\nconst Sidebar = () => {\n    const user = useSelector(selectUser)\n    const [channels, setChannels] = useState([])\n\n    const getChannels = () =>{\n        axios.get('/get/channelList')\n            .then((res)=>{\n                console.log(res.data)\n                setChannels(res.data)\n            })\n    }\n\n    useEffect(() => {\n        getChannels()\n\n        const channel = pusher.subscribe('channels');\n         channel.bind('newChannel', function(data) {\n         getChannels()\n    });\n\n    }, [])\n\n    const handleAddChannel = (e) => {\n        e.preventDefault()\n\n        const channelName = prompt('Enter a new channel name')\n\n        if (channelName) {\n           axios.post('/new/channel',{\n            channelName: channelName\n           })                \n        }}\n    \n\n    return (\n        <div className='sidebar' >\n            <div className=\"sidebar__top\">\n                <h3>El lobo</h3>\n                <ExpandMoreIcon />\n            </div>\n\n            <div className=\"sidebar__channels\">\n                <div className=\"sidebar__channelsHeader\">\n                    <div className=\"sidebar__header\">\n                        <ExpandMoreIcon />\n                        <h4>Text Channels</h4>\n                    </div>\n\n                    <AddIcon onClick={handleAddChannel} className='sidebar__addChannel' />\n                </div>\n                <div className=\"sidebar__channelsList\">\n                    {\n                        channels.map((channel) => (\n                            <SidebarChannel key={channel.id} id={channel.id} channelName={cjchannel.Name} />\n                        ))\n                    }\n                </div>\n            </div>\n\n            <div className=\"sidebar__voice\">\n                <SignalCellularAltIcon className='sidebar__voiceIcons' fontSize='large' />\n                <div className=\"sidebar__voiceInfo\">\n                    <h3>Voice Connected</h3>\n                    <p>Stream</p>\n                </div>\n\n                <div className=\"sidebar__voiceIcons\">\n                    <InfoOutlinedIcon />\n                    <CallIcon />\n                </div>\n            </div>\n            <div className=\"sidebar__profile\">\n                <Avatar src={user?.photo} onClick={() => auth.signOut()} />\n                <div className=\"sidebar__profileInfo\">\n                    <h3>{user?.displayName}</h3>\n                    <p>#{user?.uid.substring(0, 5)}</p>\n                </div>\n\n                <div className=\"sidebar__profileIcons\">\n                    <MicIcon />\n                    <HeadsetIcon />\n                    <SettingsIcon />\n                </div>\n            </div>\n        </div>\n    )\n                }\n\nexport default Sidebar\n"]},"metadata":{},"sourceType":"module"}